#!/usr/bin/env ruby

if ARGV[0] == '-h' || ARGV[0] == '--help'
  puts "Usage murmurs-git GIT_REPOSITORY_PATH"
  puts ""
  puts "Install a git post-receive hook in hooks directory inside given git repository path"

  exit(0)
end

Murmurs.install_git_hook(ARGV[0], 'murmurs')

puts "Installed #{hook}"
puts "Please setup the following git config:"
puts %Q{
git config hooks.minglemurmursurl "https://<your_site>.mingle.thoughtworks.com/api/v2/projects/<your_project>/murmurs.xml"
git config hooks.mingleaccesskeyid "MINGLE ACCESS KEY ID"
git config hooks.mingleaccesssecretkey "MINGLE ACCESS SECRET KEY"

For further information about MINGLE ACCESS KEY ID and MINGLE ACCESS SECRET KEY, please read this:
http://www.thoughtworks.com/products/docs/mingle/current/help/configuring_hmac_authentication.html
}
